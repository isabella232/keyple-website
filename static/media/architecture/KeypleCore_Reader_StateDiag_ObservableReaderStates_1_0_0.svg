<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="1401" height="837" contentScriptType="application/ecmascript" contentStyleType="text/css" style="width:1401px;height:837px" preserveAspectRatio="none" version="1.1" viewBox="0 0 1401 837" zoomAndPan="magnify"><g><rect style="stroke:#d4ac0d;stroke-width:1.5" width="575" height="186" x="22" y="24" fill="#FEFECE" rx="12.5" ry="12.5"/><rect style="stroke:#fff;stroke-width:1" width="569" height="152.391" x="25" y="54.609" fill="#FFF" rx="12.5" ry="12.5"/><line style="stroke:#d4ac0d;stroke-width:1.5" x1="22" x2="597" y1="51.609" y2="51.609"/><text x="223" y="42.533" fill="#000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="109">Card observation</text><text x="336" y="42.533" fill="#000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="60">disabled</text><rect style="stroke:#d4ac0d;stroke-width:1.5" width="1119" height="464" x="31" y="362" fill="#FEFECE" rx="12.5" ry="12.5"/><rect style="stroke:#fff;stroke-width:1" width="1113" height="410.297" x="34" y="412.703" fill="#FFF" rx="12.5" ry="12.5"/><line style="stroke:#d4ac0d;stroke-width:1.5" x1="31" x2="1150" y1="409.703" y2="409.703"/><line style="stroke:#d4ac0d;stroke-width:1.5" x1="31" x2="1150" y1="389.609" y2="389.609"/><text x="457" y="380.533" fill="#000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="109">Card observation</text><text x="570" y="380.533" fill="#000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="65">activated</text><text x="36" y="404.566" fill="#000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="267">number of observer &gt; 0 &amp;&amp; PollingMode defined</text><ellipse cx="115" cy="70" fill="#000" rx="10" ry="10" style="stroke:none;stroke-width:1"/><rect style="stroke:#d4ac0d;stroke-width:1.5" width="154" height="52.703" x="38" y="141" fill="#FEFECE" rx="12.5" ry="12.5"/><line style="stroke:#d4ac0d;stroke-width:1.5" x1="38" x2="192" y1="168.609" y2="168.609"/><text x="60.5" y="160.533" fill="#000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="109">WaitForObserver</text><text x="43" y="186.066" fill="#000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="134">number of observer == 0</text><rect style="stroke:#d4ac0d;stroke-width:1.5" width="160" height="52.703" x="421" y="141" fill="#FEFECE" rx="12.5" ry="12.5"/><line style="stroke:#d4ac0d;stroke-width:1.5" x1="421" x2="581" y1="168.609" y2="168.609"/><text x="431" y="160.533" fill="#000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="140">WaitForStartDetection</text><text x="426" y="186.066" fill="#000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="127">number of observer &gt; 0</text><rect style="stroke:#d4ac0d;stroke-width:1.5" width="145" height="40" x="457.5" y="426" fill="#FEFECE" rx="12.5" ry="12.5"/><text x="462.5" y="451.728" fill="#000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="135">WaitForCardInsertion</text><rect style="stroke:#d4ac0d;stroke-width:1.5" width="161" height="40" x="449.5" y="762" fill="#FEFECE" rx="12.5" ry="12.5"/><text x="454.5" y="787.729" fill="#000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="151">WaitForCardProcessing</text><rect style="stroke:#d4ac0d;stroke-width:1.5" width="146" height="40" x="862" y="762" fill="#FEFECE" rx="12.5" ry="12.5"/><text x="867" y="787.729" fill="#000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="136">WaitForCardRemoval</text><path id="*start*Card_ObservationDisabled-&gt;WaitForObserver" fill="none" d="M115,80.157 C115,92.788 115,116.181 115,135.435" style="stroke:#000;stroke-width:1"/><polygon fill="#000" points="115 140.743 119 131.743 115 135.743 111 131.743 115 140.743" style="stroke:#000;stroke-width:1"/><path id="WaitForObserver-&gt;WaitForStartDetection" fill="none" d="M179.025,194.008 C192.195,198.364 206.128,202.203 219.5,204.5 C257.608,211.047 355.363,210.879 393.5,204.5 C405.616,202.473 418.195,199.245 430.295,195.519" style="stroke:#00f;stroke-width:1"/><polygon fill="#00F" points="435.086 194.011 425.3 192.898 430.317 195.512 427.702 200.529 435.086 194.011" style="stroke:#00f;stroke-width:1"/><text x="220.5" y="201.347" fill="#000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="172">addObserver(ReaderObserver)</text><path id="WaitForObserver&lt;-WaitForStartDetection" fill="none" d="M197.293,167.5 C263.339,167.5 355.519,167.5 420.961,167.5" style="stroke:#00f;stroke-width:1"/><polygon fill="#00F" points="192.185 167.5 201.185 171.5 197.185 167.5 201.185 163.5 192.185 167.5" style="stroke:#00f;stroke-width:1"/><text x="210.5" y="144.995" fill="#000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="192">removeObserver(ReaderObserver)</text><text x="243" y="161.347" fill="#000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="127">&amp;&amp; (nb observer == 0)</text><path id="WaitForCardInsertion-&gt;WaitForCardProcessing" fill="none" d="M526.132,466.107 C518.39,499.21 497.744,567.028 453,602 C404.232,640.118 355.769,583.747 317,632 C289.163,666.647 289.319,697.228 317,732 C333.112,752.2393 392.486,764.8194 444.467,772.1577" style="stroke:red;stroke-width:1"/><polygon fill="red" points="449.472 772.851 441.106 767.655 444.519 772.166 440.009 775.579 449.472 772.851" style="stroke:red;stroke-width:1"/><text x="337" y="646.495" fill="#000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="130">notifies &apos;Card matched&apos;</text><text x="397" y="662.847" fill="#000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="6">||</text><text x="350.5" y="679.198" fill="#000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="103">&apos;Card inserted&apos; &amp;&amp;</text><text x="318" y="695.55" fill="#000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="168">(NotificationMode == always)</text><path id="WaitForCardInsertion&lt;-WaitForCardProcessing" fill="none" d="M529.078,471.118 C527.348,520.228 524.045,635.367 527,732 C527.302,741.882 527.947,752.8691 528.561,761.931" style="stroke:red;stroke-width:1;stroke-dasharray:7,7"/><polygon fill="red" points="529.26 466.017 524.941 474.868 529.081 471.014 532.936 475.154 529.26 466.017" style="stroke:red;stroke-width:1"/><text x="528" y="654.995" fill="#000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="150">notifies &apos;Card removed&apos; &amp;&amp;</text><text x="546.5" y="671.347" fill="#000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="113">(Observable Reader</text><text x="551" y="687.698" fill="#000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="104">with the capability</text><text x="542.5" y="704.05" fill="#000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="121">to detect the removal</text><text x="568.5" y="720.401" fill="#000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="69">at any time)</text><path id="WaitForCardInsertion-&gt;WaitForCardRemoval" fill="none" d="M549.705,466.083 C581.571,497.873 644.699,564.839 683,632 C706.4,673.033 683.617,700.705 719,732 C739.439,750.0774 803.601,763.1709 856.726,771.2505" style="stroke:red;stroke-width:1"/><polygon fill="red" points="861.831 772.017 853.525 766.724 856.886 771.274 852.337 774.635 861.831 772.017" style="stroke:red;stroke-width:1"/><text x="734.5" y="670.995" fill="#000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="170">&apos;Card inserted&apos; not notified &amp;&amp;</text><text x="720" y="687.347" fill="#000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="199">((NotificationMode == match_only)</text><text x="763.5" y="703.698" fill="#000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="112">&amp;&amp; selection failed)</text><path id="WaitForCardInsertion&lt;-WaitForCardRemoval" fill="none" d="M607.73,459.539 C700.095,478.934 850.873,525.74 924,632 C951.057,671.316 944.902,731.089 939.3,761.6012" style="stroke:red;stroke-width:1"/><polygon fill="red" points="602.828 458.524 610.831 464.264 607.724 459.537 612.452 456.43 602.828 458.524" style="stroke:red;stroke-width:1"/><text x="950.5" y="679.495" fill="#000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="150">notifies &apos;Card removed&apos; &amp;&amp;</text><text x="945" y="695.847" fill="#000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="161">(PollingMode == Repeating)</text><path id="WaitForCardProcessing-&gt;WaitForCardRemoval" fill="none" d="M610.984,782 C682.558,782 786.271,782 856.948,782" style="stroke:#00f;stroke-width:1"/><polygon fill="#00F" points="861.979 782 852.979 778 856.979 782 852.979 786 861.979 782" style="stroke:#00f;stroke-width:1"/><text x="666.25" y="742.495" fill="#000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="140">finalizeCardProcessing()</text><text x="731.25" y="758.847" fill="#000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="6">||</text><text x="642.75" y="775.198" fill="#000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="187">&apos;Card channel release requested&apos;</text><path id="WaitForStartDetection-&gt;WaitForCardInsertion" fill="none" d="M503.676,194.017 C509.248,247.14 522.026,368.975 527.47,420.874" style="stroke:#00f;stroke-width:1"/><polygon fill="#00F" points="528.004 425.968 531.041 416.599 527.481 420.995 523.085 417.436 528.004 425.968" style="stroke:#00f;stroke-width:1"/><text x="512" y="248.495" fill="#000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="187">startCardDetection(PollingMode)</text><path id="WaitForObserver&lt;-Card_ObservationActivated" fill="none" d="M106.635,198.933 C96.9172,234.288 80.3896,294.4183 66.1054,346.3864 C65.2126,349.6344 64.3286,352.8505 63.4556,356.0267 C63.0191,357.6148 62.5853,359.1929 62.1546,360.7601 C62.0469,361.1518 61.9394,361.5429 61.8321,361.9333" style="stroke:#00f;stroke-width:1"/><polygon fill="#00F" points="107.986 194.017 101.743 201.635 106.66 198.838 109.457 203.755 107.986 194.017" style="stroke:#00f;stroke-width:1"/><text x="100" y="240.495" fill="#000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="192">removeObserver(ReaderObserver)</text><text x="132.5" y="256.847" fill="#000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="127">&amp;&amp; (nb observer == 0)</text><path id="WaitForStartDetection&lt;-Card_ObservationActivated" fill="none" d="M442.139,196.351 C423.146,205.559 402.075,216.009 383,226 C331.528,252.96 318.467,259.516 269,290 C243.1745,305.915 216.1307,323.3839 190.0323,340.6781 C183.5077,345.0017 177.0421,349.3143 170.6695,353.589 C167.4832,355.7264 164.3201,357.8542 161.1845,359.9692 C160.4006,360.498 159.6184,361.0259 158.8379,361.553" style="stroke:#00f;stroke-width:1"/><polygon fill="#00F" points="446.921 194.038 437.077 194.356 442.42 196.215 440.56 201.558 446.921 194.038" style="stroke:#00f;stroke-width:1"/><text x="384" y="248.495" fill="#000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="115">stopCardDetection()</text><path id="Card_ObservationActivated&lt;-Card_ObservationActivated" fill="none" d="M1156,445.411 C1167.8318,395.501 1191.2213,395.697 1191.2213,446 C1191.2213,496.303 1167.8318,496.499 1156,446.589" style="stroke:#00f;stroke-width:1"/><polygon fill="#00F" points="1156 445.411 1161.968 437.576 1157.153 440.546 1154.184 435.731 1156 445.411" style="stroke:#00f;stroke-width:1"/><text x="1197.221" y="443.495" fill="#000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="192">removeObserver(ReaderObserver)</text><text x="1233.721" y="459.847" fill="#000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="119">&amp;&amp; (nb observer &gt; 0)</text><path id="WaitForStartDetection&lt;-WaitForCardRemoval" fill="none" d="M586.643,181.998 C625.526,190.648 670.989,204.436 708,226 C928.763,354.626 1017.08,396.008 1115,632 C1132.03,673.051 1141.99,696.686 1115,732 C1101.68,749.435 1052.03,762.1406 1008.24,770.2393" style="stroke:red;stroke-width:1"/><polygon fill="red" points="581.447 180.864 589.387 186.691 586.332 181.93 591.093 178.875 581.447 180.864" style="stroke:red;stroke-width:1"/><text x="1110" y="304.495" fill="#000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="150">notifies &apos;Card removed&apos; &amp;&amp;</text><text x="1102" y="320.847" fill="#000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="166">(PollingMode == SingleShot)</text></g></svg>